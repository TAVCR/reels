<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anatomía de un Reel de Venta | Estrategia Audiovisual</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'display': ['"Archivo Black"', 'sans-serif'],
                        'body': ['"Plus Jakarta Sans"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- React y Babel -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-neutral-200">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Icono Star personalizado
        const StarIcon = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
            </svg>
        );

        // Helper para usar iconos de Lucide en React sin depender de toSvg()
        const Icon = ({ name, size = 24, className = "" }) => {
            const [iconContent, setIconContent] = useState(null);
            
            useEffect(() => {
                if (window.lucide && window.lucide.icons) {
                    // Convertir nombres como "Globe2" a "globe-2"
                    const iconKey = name
                        .replace(/([a-z0-9])([A-Z])/g, '$1-$2')
                        .toLowerCase();
                        
                    const iconData = window.lucide.icons[iconKey] || window.lucide.icons[name.toLowerCase()];
                    
                    if (iconData) {
                        // iconData es [tagName, attributes, children]
                        const renderNodes = (nodes) => {
                            return nodes.map((node, i) => {
                                const [tag, attrs, children] = node;
                                return React.createElement(tag, { ...attrs, key: i }, children ? renderNodes(children) : null);
                            });
                        };
                        setIconContent(renderNodes(iconData[2]));
                    }
                }
            }, [name]);

            if (!iconContent) return <span style={{ width: size, height: size }} className="inline-block" />;

            return (
                <svg 
                    xmlns="http://www.w3.org/2000/svg" 
                    width={size} 
                    height={size} 
                    viewBox="0 0 24 24" 
                    fill="none" 
                    stroke="currentColor" 
                    strokeWidth="2.5" 
                    strokeLinecap="round" 
                    strokeLinejoin="round" 
                    className={className}
                >
                    {iconContent}
                </svg>
            );
        };

        const StrategyDoc = () => {
            const [activeScenario, setActiveScenario] = useState('carismatico');
            const [expandedStep, setExpandedStep] = useState(null);
            const [expandedDiscovery, setExpandedDiscovery] = useState(false);
            const [expandedPillar, setExpandedPillar] = useState(null);
            const [showCaseStudy, setShowCaseStudy] = useState(false);
            const [showIntro, setShowIntro] = useState(false);
            const [activeCaseExample, setActiveCaseExample] = useState('cat');

            const steps = [
                { icon: "Zap", color: "text-red-600", bg: "bg-red-100", step: "01", title: "EL GANCHO", time: "0-3 seg", desc: "Interrupción de patrón.", colloquialTitle: "Concepto: Stop Scroll", colloquialText: "Tu único objetivo aquí es frenar el dedo. No vendas, no expliques. Presenta un estímulo visual o sonoro tan fuerte que el cerebro reptiliano se detenga." },
                { icon: "Brain", color: "text-blue-600", bg: "bg-blue-100", step: "02", title: "CONTEXTO", time: "3-10 seg", desc: "Agitar el dolor o la necesidad.", colloquialTitle: "Concepto: Empatía Radical", colloquialText: "Demuestra que los entiendes. Verbaliza el problema en su mente y usa la 'Desculpabilización': no es su culpa, es del entorno." },
                { icon: "Sparkles", color: "text-yellow-600", bg: "bg-yellow-100", step: "03", title: "SOLUCIÓN", time: "10-25 seg", desc: "El vehículo de transformación.", colloquialTitle: "Concepto: El Mecanismo", colloquialText: "Presenta el servicio como el vehículo mágico del 'Infierno' al 'Cielo'. No hables de características, habla de identidad." },
                { icon: "Users", color: "text-green-600", bg: "bg-green-100", step: "04", title: "PRUEBA", time: "25-35 seg", desc: "Validación social (FOMO).", colloquialTitle: "Concepto: Reducción de Riesgo", colloquialText: "El cerebro teme al riesgo. Muestra que 'la manada' ya lo aprobó para matar el escepticismo." },
                { icon: "MousePointerClick", color: "text-purple-600", bg: "bg-purple-100", step: "05", title: "CTA", time: "Final", desc: "Orden imperativa única.", colloquialTitle: "Concepto: Liderazgo", colloquialText: "La gente necesita ser liderada. Da una instrucción física clara y única. Usa verbos de acción imperativos." }
            ];

            const caseStudies = {
                cat: {
                    title: "El Traductor de Gatos",
                    icon: "Cat",
                    steps: [
                        { step: "01", phase: "GANCHO", title: "Mirada Asesina", visual: "Zoom in lento a ojos de gato.", audio: "VOZ: 'Él sabe lo que hiciste...'" },
                        { step: "03", phase: "SOLUCIÓN", title: "La Revelación", visual: "App escaneando al gato.", audio: "VOZ: 'Decodifica su desprecio.'" }
                    ]
                },
                taser: {
                    title: "Reloj Taser 'DoItNow'",
                    icon: "Watch",
                    steps: [
                        { step: "01", phase: "GANCHO", title: "El Despertar", visual: "Tipo durmiendo... ¡ZAP!", audio: "SFX Electricidad + Grito." },
                        { step: "03", phase: "SOLUCIÓN", title: "50 Voltios", visual: "Reloj activándose.", audio: "VOZ: 'Motivación pura.'" }
                    ]
                }
            };

            const andromedaPillars = [
                { icon: "Globe2", title: "Social vs Interest Graph", subtitle: "Adiós 'Amigos'", content: "Meta ya no prioriza a tus amigos. Ahora prioriza tus intereses. Tu competencia es el mundo entero." },
                { icon: "Scale", title: "Democracia Viral", subtitle: "Reset diario", content: "Cada video empieza de cero. Una cuenta nueva puede ser viral si retiene la atención." }
            ];

            const handleToggle = (setter, current, target) => setter(current === target ? null : target);

            return (
                <div className="min-h-screen font-body text-gray-900 pb-20 overflow-x-hidden">
                    {/* HEADER */}
                    <header className="bg-yellow-400 border-b-4 border-black py-12 px-6 text-center relative">
                        <div className="relative z-10 max-w-5xl mx-auto">
                            <div className="inline-block bg-black text-yellow-400 px-4 py-2 font-bold text-xs mb-6 transform -rotate-2 uppercase">
                                Documento de Producción Interna
                            </div>
                            <h1 className="font-display text-4xl md:text-7xl text-black mb-6 leading-tight">
                                ANATOMÍA DE UN<br/>REEL DE VENTA
                            </h1>
                            <p className="text-lg md:text-2xl font-bold text-black/80">Manual de Estructura Narrativa</p>
                        </div>
                    </header>

                    <main className="max-w-7xl mx-auto px-4 py-10 space-y-20">
                        {/* SECCIÓN 1: ESTRUCTURA */}
                        <section>
                            <div className="flex items-center gap-4 mb-8">
                                <div className="bg-black text-white w-12 h-12 flex items-center justify-center font-display text-2xl rounded-xl shadow-[4px_4px_0px_0px_#facc15]">1</div>
                                <h2 className="font-display text-3xl md:text-5xl uppercase italic tracking-tighter">La Estructura</h2>
                                <button onClick={() => setShowIntro(!showIntro)} className="bg-yellow-400 px-4 py-2 rounded-full border-2 border-black font-bold text-xs ml-auto shadow-[3px_3px_0px_0px_#000] hover:scale-105 transition-transform active:scale-95">
                                    {showIntro ? "Cerrar" : "Concepto"}
                                </button>
                            </div>

                            {showIntro && (
                                <div className="bg-black text-white p-8 rounded-[2rem] border-4 border-black mb-12 animate-in fade-in zoom-in duration-300">
                                    <h3 className="font-display text-2xl text-yellow-400 mb-4">¿Por qué esto?</h3>
                                    <p className="text-lg leading-relaxed">En un feed infinito, tu contenido es un intruso. Si intentas vender como en TV, serás ignorado en 0.3 segundos.</p>
                                </div>
                            )}

                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                                {steps.map((item, idx) => (
                                    <div key={idx} 
                                         onClick={() => handleToggle(setExpandedStep, expandedStep, idx)}
                                         className={`p-5 rounded-2xl border-4 border-black cursor-pointer transition-all ${expandedStep === idx ? 'bg-black text-white scale-105 z-10' : 'bg-white shadow-[6px_6px_0px_0px_#000] hover:-translate-y-1'}`}>
                                        <div className="flex justify-between items-start mb-4">
                                            <div className={`p-2 rounded-lg border-2 border-black ${expandedStep === idx ? 'bg-yellow-400' : item.bg}`}>
                                                <Icon name={item.icon} className={expandedStep === idx ? 'text-black' : item.color} />
                                            </div>
                                            <span className="font-display text-2xl opacity-50">{item.step}</span>
                                        </div>
                                        <h3 className="font-display text-lg mb-2 leading-tight">{item.title}</h3>
                                        <p className={`text-xs ${expandedStep === idx ? 'text-gray-300' : 'text-gray-600'}`}>{item.desc}</p>
                                        
                                        {expandedStep === idx && (
                                            <div className="mt-4 pt-4 border-t border-gray-700 animate-in slide-in-from-top-2">
                                                <p className="text-yellow-400 font-bold text-[10px] uppercase mb-2 tracking-widest">{item.colloquialTitle}</p>
                                                <p className="text-sm leading-snug">{item.colloquialText}</p>
                                            </div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        </section>

                        {/* SECCIÓN 2: ALGORITMO */}
                        <section className="grid md:grid-cols-2 gap-12">
                            <div className="space-y-6">
                                <div className="flex items-center gap-4 mb-4">
                                    <div className="bg-black text-white w-12 h-12 flex items-center justify-center font-display text-2xl rounded-xl shadow-[4px_4px_0px_0px_#facc15]">2</div>
                                    <h2 className="font-display text-3xl md:text-5xl uppercase italic tracking-tighter">Andrómeda</h2>
                                </div>
                                {andromedaPillars.map((p, i) => (
                                    <div key={i} onClick={() => handleToggle(setExpandedPillar, expandedPillar, i)} className={`border-2 border-black p-4 rounded-xl cursor-pointer transition-all ${expandedPillar === i ? 'bg-black text-white shadow-[6px_6px_0px_0px_#000]' : 'bg-white shadow-[4px_4px_0px_0px_#000] hover:bg-gray-50'}`}>
                                        <div className="flex items-center justify-between">
                                            <div className="flex items-center gap-3">
                                                <Icon name={p.icon} size={20} className={expandedPillar === i ? "text-yellow-400" : "text-yellow-600"} />
                                                <h4 className="font-bold">{p.title}</h4>
                                            </div>
                                            <Icon name="ChevronDown" size={16} className={expandedPillar === i ? "rotate-180" : ""} />
                                        </div>
                                        {expandedPillar === i && <p className="mt-4 text-sm text-gray-300 border-t border-gray-800 pt-4 leading-relaxed">{p.content}</p>}
                                    </div>
                                ))}
                            </div>

                            <div onClick={() => setExpandedDiscovery(!expandedDiscovery)} className={`bg-white border-4 border-black p-8 rounded-[2rem] flex flex-col items-center text-center transition-all cursor-pointer ${expandedDiscovery ? 'shadow-[12px_12px_0px_0px_#000]' : 'shadow-[6px_6px_0px_0px_#000] hover:-translate-y-1'}`}>
                                <div className={`w-32 h-32 rounded-full border-4 border-black mb-6 flex items-center justify-center relative transition-colors ${expandedDiscovery ? 'bg-yellow-400' : 'bg-gray-100'}`}>
                                    <Icon name="Users" size={48} className="text-black" />
                                </div>
                                <h3 className="font-display text-2xl mb-2">Discovery Engine</h3>
                                <p className="text-sm text-gray-500 font-medium">Toca para ver el secreto del algoritmo</p>
                                {expandedDiscovery && (
                                    <div className="mt-6 p-6 bg-gray-900 text-white rounded-2xl w-full text-left animate-in fade-in slide-in-from-bottom-2">
                                        <div className="flex items-center gap-2 text-yellow-400 font-bold text-[10px] uppercase mb-3 tracking-widest">
                                            <Icon name="Target" size={14} /> Segmentación por Intención
                                        </div>
                                        <p className="text-sm leading-relaxed">Meta ya no busca a quién le dijiste que quieres llegar. Busca a quien se parece a los que YA interactuaron con tu contenido.</p>
                                    </div>
                                )}
                            </div>
                        </section>

                        {/* SECCIÓN 3: SUBASTA */}
                        <section className="bg-black text-white p-10 rounded-[2.5rem] border-4 border-yellow-400">
                             <div className="flex flex-col md:flex-row items-center gap-6 mb-10">
                                <div className="bg-yellow-400 text-black w-14 h-14 flex items-center justify-center font-display text-2xl rounded-xl shrink-0">3</div>
                                <h2 className="font-display text-3xl md:text-5xl uppercase italic tracking-tighter">La Subasta</h2>
                            </div>
                            <div className="grid md:grid-cols-3 gap-8 text-center items-center">
                                <div className="p-6 bg-gray-900 rounded-2xl border border-gray-800">
                                    <Icon name="Coins" className="text-green-400 mb-4" size={32} />
                                    <p className="font-bold uppercase text-xs tracking-widest text-green-400 mb-2">Puja (Bid)</p>
                                    <p className="text-sm text-gray-400">Tu presupuesto diario</p>
                                </div>
                                <div className="text-yellow-400 font-display text-4xl">×</div>
                                <div className="p-6 bg-gray-900 rounded-2xl border border-gray-800">
                                    <StarIcon className="text-purple-400 mx-auto mb-4" size={32} />
                                    <p className="font-bold uppercase text-xs tracking-widest text-purple-400 mb-2">Calidad</p>
                                    <p className="text-sm text-gray-400">Relevancia creativa</p>
                                </div>
                            </div>
                            <div className="mt-10 pt-8 border-t border-gray-800 text-center">
                                <p className="font-display text-2xl md:text-4xl text-yellow-400 tracking-tight">= VALOR TOTAL</p>
                            </div>
                        </section>

                        {/* SECCIÓN 4: ADAPTACIÓN */}
                        <section>
                            <div className="bg-white border-4 border-black rounded-[2.5rem] overflow-hidden shadow-[8px_8px_0px_0px_#000]">
                                <div className="flex flex-col md:flex-row border-b-4 border-black">
                                    {['carismatico', 'misterioso', 'concepto'].map(tab => (
                                        <button key={tab} 
                                                onClick={() => setActiveScenario(tab)}
                                                className={`flex-1 p-6 font-bold uppercase tracking-widest text-sm transition-all flex items-center justify-center gap-3 ${activeScenario === tab ? 'bg-yellow-400 text-black' : 'bg-white text-gray-400 hover:bg-gray-50'}`}>
                                            <Icon name={tab === 'carismatico' ? 'Mic' : tab === 'misterioso' ? 'Music' : 'Layout'} size={20} />
                                            {tab}
                                        </button>
                                    ))}
                                </div>
                                <div className="p-10 min-h-[200px]">
                                    <h3 className="font-display text-3xl mb-4 capitalize">Estilo {activeScenario}</h3>
                                    <p className="text-lg text-gray-600 leading-relaxed max-w-3xl">
                                        {activeScenario === 'carismatico' && "Enfoque en la marca personal, contacto visual directo y energía alta frente a cámara. Ideal para coaches y líderes de opinión."}
                                        {activeScenario === 'misterioso' && "Visuales cinemáticos, cortes rápidos, voz en off profunda y música atmosférica. Vende una sensación más que un producto."}
                                        {activeScenario === 'concepto' && "Uso de tipografía cinética, elementos gráficos potentes y transiciones digitales. Perfecto para software o servicios abstractos."}
                                    </p>
                                </div>
                            </div>
                        </section>
                    </main>

                    <footer className="bg-black text-white p-12 text-center border-t-4 border-yellow-400">
                        <div className="flex justify-center gap-2 text-yellow-400 mb-4 items-center">
                            <Icon name="Sparkles" size={20} />
                            <span className="font-display tracking-widest uppercase text-xl">Estrategia 2025</span>
                        </div>
                        <p className="text-gray-500 text-xs uppercase tracking-widest font-bold">Documento Confidencial - Uso Interno - Antologías</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<StrategyDoc />);
    </script>
</body>
</html>
